<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>GimpThumb-utils: GIMP Thumbnail Library Reference Manual</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.79.1">
<link rel="home" href="index.html" title="GIMP Thumbnail Library Reference Manual">
<link rel="up" href="libgimpthumb.html" title="Part I. GIMP Thumbnail Library">
<link rel="prev" href="GimpThumbnail.html" title="GimpThumbnail">
<link rel="next" href="libgimpthumb-GimpThumb-enums.html" title="GimpThumb-enums">
<meta name="generator" content="GTK-Doc V1.25 (XML mode)">
<link rel="stylesheet" href="style.css" type="text/css">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="5"><tr valign="middle">
<td width="100%" align="left" class="shortcuts">
<a href="#" class="shortcut">Top</a><span id="nav_description">  <span class="dim">|</span> 
                  <a href="#libgimpthumb-GimpThumb-utils.description" class="shortcut">Description</a></span>
</td>
<td><a accesskey="h" href="index.html"><img src="home.png" width="16" height="16" border="0" alt="Home"></a></td>
<td><a accesskey="u" href="libgimpthumb.html"><img src="up.png" width="16" height="16" border="0" alt="Up"></a></td>
<td><a accesskey="p" href="GimpThumbnail.html"><img src="left.png" width="16" height="16" border="0" alt="Prev"></a></td>
<td><a accesskey="n" href="libgimpthumb-GimpThumb-enums.html"><img src="right.png" width="16" height="16" border="0" alt="Next"></a></td>
</tr></table>
<div class="refentry">
<a name="libgimpthumb-GimpThumb-utils"></a><div class="titlepage"></div>
<div class="refnamediv"><table width="100%"><tr>
<td valign="top">
<h2><span class="refentrytitle"><a name="libgimpthumb-GimpThumb-utils.top_of_page"></a>GimpThumb-utils</span></h2>
<p>GimpThumb-utils — Utility functions provided and used by libgimpthumb</p>
</td>
<td class="gallery_image" valign="top" align="right"></td>
</tr></table></div>
<div class="refsect1">
<a name="libgimpthumb-GimpThumb-utils.functions"></a><h2>Functions</h2>
<div class="informaltable"><table class="informaltable" width="100%" border="0">
<colgroup>
<col width="150px" class="functions_return">
<col class="functions_name">
</colgroup>
<tbody>
<tr>
<td class="function_type">
<a href="/usr/share/gtk-doc/html/glibglib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>
</td>
<td class="function_name">
<a class="link" href="libgimpthumb-GimpThumb-utils.html#gimp-thumb-init" title="gimp_thumb_init ()">gimp_thumb_init</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<a href="/usr/share/gtk-doc/html/glibglib-Basic-Types.html#gchar"><span class="returnvalue">gchar</span></a> *
</td>
<td class="function_name">
<a class="link" href="libgimpthumb-GimpThumb-utils.html#gimp-thumb-find-thumb" title="gimp_thumb_find_thumb ()">gimp_thumb_find_thumb</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<a class="link" href="libgimpthumb-GimpThumb-enums.html#GimpThumbFileType" title="enum GimpThumbFileType"><span class="returnvalue">GimpThumbFileType</span></a>
</td>
<td class="function_name">
<a class="link" href="libgimpthumb-GimpThumb-utils.html#gimp-thumb-file-test" title="gimp_thumb_file_test ()">gimp_thumb_file_test</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<a href="/usr/share/gtk-doc/html/glibglib-Basic-Types.html#gchar"><span class="returnvalue">gchar</span></a> *
</td>
<td class="function_name">
<a class="link" href="libgimpthumb-GimpThumb-utils.html#gimp-thumb-name-from-uri" title="gimp_thumb_name_from_uri ()">gimp_thumb_name_from_uri</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<a href="/usr/share/gtk-doc/html/glibglib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>
</td>
<td class="function_name">
<a class="link" href="libgimpthumb-GimpThumb-utils.html#gimp-thumb-ensure-thumb-dir" title="gimp_thumb_ensure_thumb_dir ()">gimp_thumb_ensure_thumb_dir</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">const <a href="/usr/share/gtk-doc/html/glibglib-Basic-Types.html#gchar"><span class="returnvalue">gchar</span></a> *
</td>
<td class="function_name">
<a class="link" href="libgimpthumb-GimpThumb-utils.html#gimp-thumb-get-thumb-dir" title="gimp_thumb_get_thumb_dir ()">gimp_thumb_get_thumb_dir</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<span class="returnvalue">void</span>
</td>
<td class="function_name">
<a class="link" href="libgimpthumb-GimpThumb-utils.html#gimp-thumbs-delete-for-uri" title="gimp_thumbs_delete_for_uri ()">gimp_thumbs_delete_for_uri</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<a href="/usr/share/gtk-doc/html/glibglib-Basic-Types.html#gchar"><span class="returnvalue">gchar</span></a> *
</td>
<td class="function_name">
<a class="link" href="libgimpthumb-GimpThumb-utils.html#gimp-thumb-name-from-uri-local" title="gimp_thumb_name_from_uri_local ()">gimp_thumb_name_from_uri_local</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<a href="/usr/share/gtk-doc/html/glibglib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>
</td>
<td class="function_name">
<a class="link" href="libgimpthumb-GimpThumb-utils.html#gimp-thumb-ensure-thumb-dir-local" title="gimp_thumb_ensure_thumb_dir_local ()">gimp_thumb_ensure_thumb_dir_local</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<a href="/usr/share/gtk-doc/html/glibglib-Basic-Types.html#gchar"><span class="returnvalue">gchar</span></a> *
</td>
<td class="function_name">
<a class="link" href="libgimpthumb-GimpThumb-utils.html#gimp-thumb-get-thumb-dir-local" title="gimp_thumb_get_thumb_dir_local ()">gimp_thumb_get_thumb_dir_local</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<span class="returnvalue">void</span>
</td>
<td class="function_name">
<a class="link" href="libgimpthumb-GimpThumb-utils.html#gimp-thumbs-delete-for-uri-local" title="gimp_thumbs_delete_for_uri_local ()">gimp_thumbs_delete_for_uri_local</a> <span class="c_punctuation">()</span>
</td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect1">
<a name="libgimpthumb-GimpThumb-utils.description"></a><h2>Description</h2>
<p>Utility functions provided and used by libgimpthumb</p>
</div>
<div class="refsect1">
<a name="libgimpthumb-GimpThumb-utils.functions_details"></a><h2>Functions</h2>
<div class="refsect2">
<a name="gimp-thumb-init"></a><h3>gimp_thumb_init ()</h3>
<pre class="programlisting"><a href="/usr/share/gtk-doc/html/glibglib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>
gimp_thumb_init (<em class="parameter"><code>const <a href="/usr/share/gtk-doc/html/glibglib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *creator</code></em>,
                 <em class="parameter"><code>const <a href="/usr/share/gtk-doc/html/glibglib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *thumb_basedir</code></em>);</pre>
<p>This function initializes the thumbnail system. It must be called
before any other functions from libgimpthumb are used. You may call
it more than once if you want to change the <em class="parameter"><code>thumb_basedir</code></em>
 but if
you do that, you should make sure that no thread is still using the
library. Apart from this function, libgimpthumb is multi-thread
safe.</p>
<p>The <em class="parameter"><code>creator</code></em>
 string must be 7bit ASCII and should contain the name
of the software that creates the thumbnails. It is used to handle
thumbnail creation failures. See the spec for more details.</p>
<p>Usually you will pass <a href="/usr/share/gtk-doc/html/glibglib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a> for <em class="parameter"><code>thumb_basedir</code></em>
. Thumbnails will
then be stored in the user's personal thumbnail directory as
defined in the spec. If you wish to use libgimpthumb to store
application-specific thumbnails, you can specify a different base
directory here.</p>
<div class="refsect3">
<a name="gimp-thumb-init.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table class="informaltable" width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>creator</p></td>
<td class="parameter_description"><p>an ASCII string that identifies the thumbnail creator</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>thumb_basedir</p></td>
<td class="parameter_description"><p>an absolute path or <a href="/usr/share/gtk-doc/html/glibglib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a> to use the default</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect3">
<a name="gimp-thumb-init.returns"></a><h4>Returns</h4>
<p> <a href="/usr/share/gtk-doc/html/glibglib-Standard-Macros.html#TRUE:CAPS"><code class="literal">TRUE</code></a> if the library was successfully initialized.</p>
</div>
</div>
<hr>
<div class="refsect2">
<a name="gimp-thumb-find-thumb"></a><h3>gimp_thumb_find_thumb ()</h3>
<pre class="programlisting"><a href="/usr/share/gtk-doc/html/glibglib-Basic-Types.html#gchar"><span class="returnvalue">gchar</span></a> *
gimp_thumb_find_thumb (<em class="parameter"><code>const <a href="/usr/share/gtk-doc/html/glibglib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *uri</code></em>,
                       <em class="parameter"><code><a class="link" href="libgimpthumb-GimpThumb-enums.html#GimpThumbSize" title="enum GimpThumbSize"><span class="type">GimpThumbSize</span></a> *size</code></em>);</pre>
<p>This function attempts to locate a thumbnail for the given
<em class="parameter"><code>uri</code></em>
. First it tries the size that is stored at <em class="parameter"><code>size</code></em>
. If no
thumbnail of that size is found, it will look for a larger
thumbnail, then falling back to a smaller size.</p>
<p>If the user's thumbnail repository doesn't provide a thumbnail but
a local thumbnail repository exists for the folder the image is
located in, the same search is done among the local thumbnails (if
there are any).</p>
<p>If a thumbnail is found, it's size is written to the variable
pointer to by <em class="parameter"><code>size</code></em>
 and the file location is returned.</p>
<div class="refsect3">
<a name="gimp-thumb-find-thumb.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table class="informaltable" width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>uri</p></td>
<td class="parameter_description"><p>an escaped URI</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>size</p></td>
<td class="parameter_description"><p>pointer to a <a class="link" href="libgimpthumb-GimpThumb-enums.html#GimpThumbSize" title="enum GimpThumbSize"><span class="type">GimpThumbSize</span></a></p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect3">
<a name="gimp-thumb-find-thumb.returns"></a><h4>Returns</h4>
<p> a newly allocated string in the encoding of the
filesystem or <a href="/usr/share/gtk-doc/html/glibglib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a> if no thumbnail for <em class="parameter"><code>uri</code></em>
was found</p>
</div>
</div>
<hr>
<div class="refsect2">
<a name="gimp-thumb-file-test"></a><h3>gimp_thumb_file_test ()</h3>
<pre class="programlisting"><a class="link" href="libgimpthumb-GimpThumb-enums.html#GimpThumbFileType" title="enum GimpThumbFileType"><span class="returnvalue">GimpThumbFileType</span></a>
gimp_thumb_file_test (<em class="parameter"><code>const <a href="/usr/share/gtk-doc/html/glibglib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *filename</code></em>,
                      <em class="parameter"><code><a href="/usr/share/gtk-doc/html/glibglib-Basic-Types.html#gint64"><span class="type">gint64</span></a> *mtime</code></em>,
                      <em class="parameter"><code><a href="/usr/share/gtk-doc/html/glibglib-Basic-Types.html#gint64"><span class="type">gint64</span></a> *size</code></em>,
                      <em class="parameter"><code><a href="/usr/share/gtk-doc/html/glibglib-Basic-Types.html#gint"><span class="type">gint</span></a> *err_no</code></em>);</pre>
<p>This is a convenience and portability wrapper around <code class="function">stat()</code>. It
checks if the given <em class="parameter"><code>filename</code></em>
 exists and returns modification time
and file size in 64bit integer values.</p>
<div class="refsect3">
<a name="gimp-thumb-file-test.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table class="informaltable" width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>filename</p></td>
<td class="parameter_description"><p>a filename in the encoding of the filesystem</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>mtime</p></td>
<td class="parameter_description"><p>return location for modification time</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>size</p></td>
<td class="parameter_description"><p>return location for file size</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>err_no</p></td>
<td class="parameter_description"><p>return location for system "errno"</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect3">
<a name="gimp-thumb-file-test.returns"></a><h4>Returns</h4>
<p> The type of the file, or <a class="link" href="libgimpthumb-GimpThumb-enums.html#GIMP-THUMB-FILE-TYPE-NONE:CAPS"><span class="type">GIMP_THUMB_FILE_TYPE_NONE</span></a> if
the file doesn't exist.</p>
</div>
</div>
<hr>
<div class="refsect2">
<a name="gimp-thumb-name-from-uri"></a><h3>gimp_thumb_name_from_uri ()</h3>
<pre class="programlisting"><a href="/usr/share/gtk-doc/html/glibglib-Basic-Types.html#gchar"><span class="returnvalue">gchar</span></a> *
gimp_thumb_name_from_uri (<em class="parameter"><code>const <a href="/usr/share/gtk-doc/html/glibglib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *uri</code></em>,
                          <em class="parameter"><code><a class="link" href="libgimpthumb-GimpThumb-enums.html#GimpThumbSize" title="enum GimpThumbSize"><span class="type">GimpThumbSize</span></a> size</code></em>);</pre>
<p>Creates the name of the thumbnail file of the specified <em class="parameter"><code>size</code></em>
 that
belongs to an image file located at the given <em class="parameter"><code>uri</code></em>
.</p>
<div class="refsect3">
<a name="gimp-thumb-name-from-uri.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table class="informaltable" width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>uri</p></td>
<td class="parameter_description"><p>an escaped URI</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>size</p></td>
<td class="parameter_description"><p>a <a class="link" href="libgimpthumb-GimpThumb-enums.html#GimpThumbSize" title="enum GimpThumbSize"><span class="type">GimpThumbSize</span></a></p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect3">
<a name="gimp-thumb-name-from-uri.returns"></a><h4>Returns</h4>
<p> a newly allocated filename in the encoding of the
filesystem or <a href="/usr/share/gtk-doc/html/glibglib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a> if <em class="parameter"><code>uri</code></em>
points to the user's
thumbnail repository.</p>
</div>
</div>
<hr>
<div class="refsect2">
<a name="gimp-thumb-ensure-thumb-dir"></a><h3>gimp_thumb_ensure_thumb_dir ()</h3>
<pre class="programlisting"><a href="/usr/share/gtk-doc/html/glibglib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>
gimp_thumb_ensure_thumb_dir (<em class="parameter"><code><a class="link" href="libgimpthumb-GimpThumb-enums.html#GimpThumbSize" title="enum GimpThumbSize"><span class="type">GimpThumbSize</span></a> size</code></em>,
                             <em class="parameter"><code><a href="/usr/share/gtk-doc/html/glibglib-Error-Reporting.html#GError"><span class="type">GError</span></a> **error</code></em>);</pre>
<p>This function checks if the directory that is required to store
thumbnails for a particular <em class="parameter"><code>size</code></em>
 exist and attempts to create it
if necessary.</p>
<p>You shouldn't have to call this function directly since
<a class="link" href="GimpThumbnail.html#gimp-thumbnail-save-thumb" title="gimp_thumbnail_save_thumb ()"><code class="function">gimp_thumbnail_save_thumb()</code></a> and <a class="link" href="GimpThumbnail.html#gimp-thumbnail-save-failure" title="gimp_thumbnail_save_failure ()"><code class="function">gimp_thumbnail_save_failure()</code></a> will
do this for you.</p>
<div class="refsect3">
<a name="gimp-thumb-ensure-thumb-dir.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table class="informaltable" width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>size</p></td>
<td class="parameter_description"><p>a GimpThumbSize</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>error</p></td>
<td class="parameter_description"><p>return location for possible errors</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect3">
<a name="gimp-thumb-ensure-thumb-dir.returns"></a><h4>Returns</h4>
<p> <a href="/usr/share/gtk-doc/html/glibglib-Standard-Macros.html#TRUE:CAPS"><code class="literal">TRUE</code></a> is the directory exists, <a href="/usr/share/gtk-doc/html/glibglib-Standard-Macros.html#FALSE:CAPS"><code class="literal">FALSE</code></a> if it could not
be created</p>
</div>
</div>
<hr>
<div class="refsect2">
<a name="gimp-thumb-get-thumb-dir"></a><h3>gimp_thumb_get_thumb_dir ()</h3>
<pre class="programlisting">const <a href="/usr/share/gtk-doc/html/glibglib-Basic-Types.html#gchar"><span class="returnvalue">gchar</span></a> *
gimp_thumb_get_thumb_dir (<em class="parameter"><code><a class="link" href="libgimpthumb-GimpThumb-enums.html#GimpThumbSize" title="enum GimpThumbSize"><span class="type">GimpThumbSize</span></a> size</code></em>);</pre>
<p>Retrieve the name of the thumbnail folder for a specific size. The
returned pointer will become invalid if <a class="link" href="libgimpthumb-GimpThumb-utils.html#gimp-thumb-init" title="gimp_thumb_init ()"><code class="function">gimp_thumb_init()</code></a> is used
again. It must not be changed or freed.</p>
<div class="refsect3">
<a name="gimp-thumb-get-thumb-dir.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table class="informaltable" width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody><tr>
<td class="parameter_name"><p>size</p></td>
<td class="parameter_description"><p>a GimpThumbSize</p></td>
<td class="parameter_annotations"> </td>
</tr></tbody>
</table></div>
</div>
<div class="refsect3">
<a name="gimp-thumb-get-thumb-dir.returns"></a><h4>Returns</h4>
<p> the thumbnail directory in the encoding of the filesystem</p>
</div>
</div>
<hr>
<div class="refsect2">
<a name="gimp-thumbs-delete-for-uri"></a><h3>gimp_thumbs_delete_for_uri ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>
gimp_thumbs_delete_for_uri (<em class="parameter"><code>const <a href="/usr/share/gtk-doc/html/glibglib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *uri</code></em>);</pre>
<p>Deletes all thumbnails for the image file specified by <em class="parameter"><code>uri</code></em>
 from the
user's thumbnail repository.</p>
<div class="refsect3">
<a name="gimp-thumbs-delete-for-uri.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table class="informaltable" width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody><tr>
<td class="parameter_name"><p>uri</p></td>
<td class="parameter_description"><p>an escaped URI</p></td>
<td class="parameter_annotations"> </td>
</tr></tbody>
</table></div>
</div>
<p class="since">Since: GIMP 2.2</p>
</div>
<hr>
<div class="refsect2">
<a name="gimp-thumb-name-from-uri-local"></a><h3>gimp_thumb_name_from_uri_local ()</h3>
<pre class="programlisting"><a href="/usr/share/gtk-doc/html/glibglib-Basic-Types.html#gchar"><span class="returnvalue">gchar</span></a> *
gimp_thumb_name_from_uri_local (<em class="parameter"><code>const <a href="/usr/share/gtk-doc/html/glibglib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *uri</code></em>,
                                <em class="parameter"><code><a class="link" href="libgimpthumb-GimpThumb-enums.html#GimpThumbSize" title="enum GimpThumbSize"><span class="type">GimpThumbSize</span></a> size</code></em>);</pre>
<p>Creates the name of a local thumbnail file of the specified <em class="parameter"><code>size</code></em>

that belongs to an image file located at the given <em class="parameter"><code>uri</code></em>
. Local
thumbnails have been introduced with version 0.7 of the spec.</p>
<div class="refsect3">
<a name="gimp-thumb-name-from-uri-local.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table class="informaltable" width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>uri</p></td>
<td class="parameter_description"><p>an escaped URI</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>size</p></td>
<td class="parameter_description"><p>a <a class="link" href="libgimpthumb-GimpThumb-enums.html#GimpThumbSize" title="enum GimpThumbSize"><span class="type">GimpThumbSize</span></a></p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect3">
<a name="gimp-thumb-name-from-uri-local.returns"></a><h4>Returns</h4>
<p> a newly allocated filename in the encoding of the
filesystem or <a href="/usr/share/gtk-doc/html/glibglib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a> if <em class="parameter"><code>uri</code></em>
is a remote file or
points to the user's thumbnail repository.</p>
</div>
<p class="since">Since: GIMP 2.2</p>
</div>
<hr>
<div class="refsect2">
<a name="gimp-thumb-ensure-thumb-dir-local"></a><h3>gimp_thumb_ensure_thumb_dir_local ()</h3>
<pre class="programlisting"><a href="/usr/share/gtk-doc/html/glibglib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>
gimp_thumb_ensure_thumb_dir_local (<em class="parameter"><code>const <a href="/usr/share/gtk-doc/html/glibglib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *dirname</code></em>,
                                   <em class="parameter"><code><a class="link" href="libgimpthumb-GimpThumb-enums.html#GimpThumbSize" title="enum GimpThumbSize"><span class="type">GimpThumbSize</span></a> size</code></em>,
                                   <em class="parameter"><code><a href="/usr/share/gtk-doc/html/glibglib-Error-Reporting.html#GError"><span class="type">GError</span></a> **error</code></em>);</pre>
<p>This function checks if the directory that is required to store
local thumbnails for a particular <em class="parameter"><code>size</code></em>
 exist and attempts to
create it if necessary.</p>
<p>You shouldn't have to call this function directly since
<a class="link" href="GimpThumbnail.html#gimp-thumbnail-save-thumb-local" title="gimp_thumbnail_save_thumb_local ()"><code class="function">gimp_thumbnail_save_thumb_local()</code></a> will do this for you.</p>
<div class="refsect3">
<a name="gimp-thumb-ensure-thumb-dir-local.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table class="informaltable" width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>dirname</p></td>
<td class="parameter_description"><p>the basename of the dir, without the actual dirname itself</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>size</p></td>
<td class="parameter_description"><p>a GimpThumbSize</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>error</p></td>
<td class="parameter_description"><p>return location for possible errors</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect3">
<a name="gimp-thumb-ensure-thumb-dir-local.returns"></a><h4>Returns</h4>
<p> <a href="/usr/share/gtk-doc/html/glibglib-Standard-Macros.html#TRUE:CAPS"><code class="literal">TRUE</code></a> is the directory exists, <a href="/usr/share/gtk-doc/html/glibglib-Standard-Macros.html#FALSE:CAPS"><code class="literal">FALSE</code></a> if it could not
be created</p>
</div>
<p class="since">Since: GIMP 2.2</p>
</div>
<hr>
<div class="refsect2">
<a name="gimp-thumb-get-thumb-dir-local"></a><h3>gimp_thumb_get_thumb_dir_local ()</h3>
<pre class="programlisting"><a href="/usr/share/gtk-doc/html/glibglib-Basic-Types.html#gchar"><span class="returnvalue">gchar</span></a> *
gimp_thumb_get_thumb_dir_local (<em class="parameter"><code>const <a href="/usr/share/gtk-doc/html/glibglib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *dirname</code></em>,
                                <em class="parameter"><code><a class="link" href="libgimpthumb-GimpThumb-enums.html#GimpThumbSize" title="enum GimpThumbSize"><span class="type">GimpThumbSize</span></a> size</code></em>);</pre>
<p>Retrieve the name of the local thumbnail folder for a specific
size.  Unlike <a class="link" href="libgimpthumb-GimpThumb-utils.html#gimp-thumb-get-thumb-dir" title="gimp_thumb_get_thumb_dir ()"><code class="function">gimp_thumb_get_thumb_dir()</code></a> the returned string is not
constant and should be free'd when it is not any longer needed.</p>
<div class="refsect3">
<a name="gimp-thumb-get-thumb-dir-local.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table class="informaltable" width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>dirname</p></td>
<td class="parameter_description"><p>the basename of the dir, without the actual dirname itself</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>size</p></td>
<td class="parameter_description"><p>a GimpThumbSize</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect3">
<a name="gimp-thumb-get-thumb-dir-local.returns"></a><h4>Returns</h4>
<p> the thumbnail directory in the encoding of the filesystem</p>
</div>
<p class="since">Since: GIMP 2.2</p>
</div>
<hr>
<div class="refsect2">
<a name="gimp-thumbs-delete-for-uri-local"></a><h3>gimp_thumbs_delete_for_uri_local ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>
gimp_thumbs_delete_for_uri_local (<em class="parameter"><code>const <a href="/usr/share/gtk-doc/html/glibglib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *uri</code></em>);</pre>
<p>Deletes all thumbnails for the image file specified by <em class="parameter"><code>uri</code></em>
 from
the local thumbnail repository.</p>
<div class="refsect3">
<a name="gimp-thumbs-delete-for-uri-local.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table class="informaltable" width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody><tr>
<td class="parameter_name"><p>uri</p></td>
<td class="parameter_description"><p>an escaped URI</p></td>
<td class="parameter_annotations"> </td>
</tr></tbody>
</table></div>
</div>
<p class="since">Since: GIMP 2.2</p>
</div>
</div>
<div class="refsect1">
<a name="libgimpthumb-GimpThumb-utils.other_details"></a><h2>Types and Values</h2>
</div>
</div>
<div class="footer">
<hr>Generated by GTK-Doc V1.25</div>
</body>
</html>